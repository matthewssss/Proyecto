function cambiarIframe(o){let t=window.parent.document.getElementById("userIframe");t.style.scale="0",t.src=o}function cerrarSesion(){$.ajax({url:"../Controllers/Servlet.php",type:"DELETE",data:JSON.stringify({action:"logout"}),dataType:"json",success:function(o){if(o.error)alert("Error logging out: "+o.message);else{!0&&(window.parent.document.getElementById("userIframe").src="/login-register",window.parent.document.getElementById("userIframe").classList.add("logout"))}},error:function(o){window.top.location.href="/500"}})}function sacarCampo(){$.ajax({url:"../Controllers/Servlet.php",type:"GET",data:{action:"campo",campoSacar:"nombre"},dataType:"json",success:function(o){$("#nombreUsr").text(o.value)},error:function(o){window.top.location.href="/500"}})}function cargarBotones(){$.ajax({url:"../Controllers/Servlet.php",type:"GET",data:{action:"getButtons"},dataType:"json",success:function(o){$("#id_listaBotones").html(o.menu),cargarEventos()},error:function(o){window.top.location.href="/500"}})}function cargarEventos(){$("#profile").on("click",(function(){loadPageEdit()})),$("#asociados").on("click",(function(){window.top.location.href="/asociados"})),$("#kraal").on("click",(function(){window.top.location.href="/kraal"})),$("#circulares").on("click",(function(){window.top.location.href="/panel-circulares"})),$("#usuarios").on("click",(function(){window.top.location.href="/usuarios"}))}function loadPageEdit(){$.ajax({url:"../Controllers/Servlet.php",type:"GET",data:{action:"editData"},dataType:"json",success:function(o){$("#nombre").val(o.nombre),$("#apellidos").val(o.apellidos),$("#correo").val(o.correo),$("#telefono").val(o.tel),$(".updateData").css("left","0%")},error:function(o){window.top.location.href="/500"}})}jQuery((function(){cargarBotones(),$("#id_logout").on("click",cerrarSesion),sacarCampo()})),$("#backArrow").on("click",(function(){$(".updateData").css("left","-120%")})),$("#changeData").on("click",(function(o){o.preventDefault(),$("#editForm").valid()&&$.ajax({url:"../Controllers/Servlet.php",type:"POST",data:{action:"updateData",profile:!0,nombre:$("#nombre").val(),apellidos:$("#apellidos").val(),correo:$("#correo").val(),telefono:$("#telefono").val(),password:$("#password").val()},dataType:"json",success:function(o){o.success?(Swal.fire({icon:"success",title:"Datos actualizados correctamente",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),$(".updateData").css("left","-120%"),sacarCampo()):Swal.fire({icon:"error",title:"Error al actualizar los datos",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},error:function(o){window.top.location.href="/500"}})}));